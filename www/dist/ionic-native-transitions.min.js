/*!
 * ionic-native-transitions
 *  ---
 * Native transitions for Ionic applications
 * @version: v1.0.0-rc1
 * @author: shprink <contact@julienrenaux.fr>
 * @link: https://github.com/shprink/ionic-native-transitions
 * @license: MIT
 * 
 */
!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):"object"==typeof exports?exports.ionicNativeTransitions=t():n.ionicNativeTransitions=t()}(this,function(){return function(n){function t(e){if(i[e])return i[e].exports;var a=i[e]={exports:{},id:e,loaded:!1};return n[e].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var i={};return t.m=n,t.c=i,t.p="",t(0)}([function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(2),o=e(a),r=i(1),s=e(r),u=i(3),l=e(u),d=angular.module("ionic-native-transitions",["ionic","ui.router"]);d.directive("nativeUiSref",s["default"]),d.provider("$ionicNativeTransitions",o["default"]),d.run(l["default"]),t["default"]=d=d.name,n.exports=t["default"]},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=["$log","$ionicNativeTransitions","$state",function(n,t,i){"ngInject";function e(n,e,a){var o=a.nativeUiSref,r=n.$eval(a.nativeUiSrefOpts)||{},s=null;a.$observe("nativeOptions",function(t){var i=n.$eval(t);s=angular.isObject(i)?i:{}}),o&&e.on("click",function(n){return t.isEnabled()?void t.stateGo(o,r,s):void i.go(o,r)})}return e.$inject=["scope","element","attrs"],{link:e,restrict:"A",scope:!1}}],n.exports=t["default"]},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){"ngInject";function n(){var t=arguments.length<=0||void 0===arguments[0]?!0:arguments[0];return n=t,this}function t(){return window.cordova&&window.plugins&&window.plugins.nativepagetransitions?n:!1}function i(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return angular.extend(c,n),this}function e(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return angular.extend(d,n),this}function a(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return angular.extend(g,n),this}function o(i,e,a,o,v,f){function p(){var n=arguments.length<=0||void 0===arguments[0]?null:arguments[0],t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return n?(y(),f.url(n),void b(t)):void i.debug("[native transition] cannot change url without url...")}function m(){var n=arguments.length<=0||void 0===arguments[0]?null:arguments[0],t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],e=arguments.length<=2||void 0===arguments[2]?null:arguments[2];return n?(y(),v.go(n,t),void b(e)):void i.debug("[native transition] cannot change state without a state...")}function w(){var t=arguments.length<=0||void 0===arguments[0]?!0:arguments[0],a=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],o=arguments.length<=2||void 0===arguments[2]?"platform":arguments[2];return!t||window.cordova&&window.plugins&&window.plugins.nativepagetransitions?(n=t,t?(i.debug("[native transition] enabling plugin"),window.plugins&&window.plugins.nativepagetransitions&&angular.extend(window.plugins.nativepagetransitions.globalOptions,O()),$()):(i.debug("[native transition] disabling plugin"),"undefined"==typeof arguments[1]&&(a=!1),x()),a?(i.debug("[native transition] disabling ionic transitions"),e.views.transition("none")):(i.debug("[native transition] enabling ionic transitions"),e.views.transition(o)),this):void i.debug("[native transition] is disabled or nativepagetransitions plugin is not present")}function b(){function n(){var n=void 0;return n=r.duration?parseInt(r.duration):parseInt(O().duration),ionic.Platform.isAndroid()?n+=r.androiddelay?parseInt(r.androiddelay):parseInt(O().androiddelay):ionic.Platform.isIOS()?n+=r.iosdelay?parseInt(r.iosdelay):parseInt(O().iosdelay):ionic.Platform.isWindowsPhone()&&(n+=r.winphonedelay?parseInt(r.winphonedelay):parseInt(O().winphonedelay)),n}function e(){setTimeout(function(){return a.$broadcast("ionicNativeTransitions.success")},n())}function o(){setTimeout(function(){return a.$broadcast("ionicNativeTransitions.error")},n())}if(t()){var r={};if(angular.isObject(arguments[0]))r=arguments[0];else if(angular.isString(arguments[0]))switch(arguments[0]){case"back":r=g}else r=d;r=angular.copy(r);var s=r.type;switch(delete r.type,i.debug("[native transition]",r),s){case"flip":window.plugins.nativepagetransitions.flip(r,e,o);break;case"fade":window.plugins.nativepagetransitions.fade(r,e,o);break;case"curl":window.plugins.nativepagetransitions.curl(r,e,o);break;case"drawer":window.plugins.nativepagetransitions.drawer(r,e,o);break;case"slide":default:window.plugins.nativepagetransitions.slide(r,e,o)}}}function h(){window.plugins.nativepagetransitions.executePendingTransition(),T()}function $(){x(),T(),u=a.$on("$stateChangeError",h),l=a.$on(O().triggerTransitionEvent,h)}function T(){r||(r=a.$on("$stateChangeStart",function(n,t,e,a,o){var r=null;null!==t.nativeTransitions&&(angular.isObject(t.nativeTransitionsIOS)&&ionic.Platform.isIOS()?r=t.nativeTransitionsIOS:angular.isObject(t.nativeTransitionsAndroid)&&ionic.Platform.isAndroid()?r=t.nativeTransitionsAndroid:angular.isObject(t.nativeTransitionsWindowsPhone)&&ionic.Platform.isWindowsPhone()?r=t.nativeTransitionsWindowsPhone:angular.isObject(t.nativeTransitions)&&(r=t.nativeTransitions),i.debug("[native transition] $stateChangeStart",t,r),b(r))}))}function y(){r&&angular.isFunction(r)&&(r(),r=null)}function x(){r&&angular.isFunction(r)&&(r(),r=null),s&&angular.isFunction(s)&&(s(),s=null),u&&angular.isFunction(u)&&(u(),u=null),l&&angular.isFunction(l)&&(l(),l=null)}function O(){return c}function j(){return t()?void w():void i.debug("nativepagetransitions is disabled or nativepagetransitions plugin is not present")}return{init:j,getDefaultOptions:O,enable:w,isEnabled:t,transition:b,registerToRouteEvents:$,unregisterToRouteEvents:x,registerToStateChangeStartEvent:T,unregisterToStateChangeStartEvent:y,locationUrl:p,stateGo:m}}var r=null,s=null,u=null,l=null,d={type:"slide",direction:"left"},g={type:"slide",direction:"right"},c={duration:400,slowdownfactor:4,iosdelay:-1,androiddelay:-1,winphonedelay:-1,fixedPixelsTop:0,fixedPixelsBottom:0,triggerTransitionEvent:"$ionicView.afterEnter"};return o.$inject=["$log","$ionicConfig","$rootScope","$timeout","$state","$location"],{$get:o,enable:n,setDefaultTransition:e,setDefaultBackTransition:a,setDefaultOptions:i}},n.exports=t["default"]},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=["$ionicNativeTransitions","$ionicPlatform","$ionicHistory","$rootScope",function(n,t,i,e){"ngInject";t.ready(function(){function a(){i.backView()&&(n.unregisterToStateChangeStartEvent(),i.goBack(),n.transition("back"))}n.init(),n.isEnabled()&&(e.$ionicGoBack=a,t.onHardwareBackButton(function(n){return a()}))})}],n.exports=t["default"]}])});